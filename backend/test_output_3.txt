(node:12192) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/unit/wikipediaService.test.js (7.482 s)
  wikipedia Service
    initialization
      Î“ÃªÃœ should initialize correctly (80 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (2 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (2 ms)

(node:5048) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/unit/newsService.cached.test.js (7.354 s)
  news.cached Service
    initialization
      Î“ÃªÃœ should initialize correctly (77 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (2 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (2 ms)

  console.error
    [SPOTIFY-REFRESH-ERROR]: No refresh token available

    [0m [90m 136 |[39m       }[33m;[39m
     [90m 137 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 138 |[39m       console[33m.[39merror([32m'[SPOTIFY-REFRESH-ERROR]:'[39m[33m,[39m error[33m.[39mresponse[33m?[39m[33m.[39mdata [33m||[39m error[33m.[39mmessage)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 139 |[39m       [36mreturn[39m {
     [90m 140 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 141 |[39m         message[33m:[39m [32m'Failed to refresh token'[39m[33m,[39m[0m

      at SpotifyService.refreshAccessToken (services/spotifyService.js:138:15)
      at SpotifyService.ensureValidToken (services/spotifyService.js:158:33)
      at SpotifyService.searchTrack (services/spotifyService.js:181:32)
      at Object.<anonymous> (tests/unit/spotifyService.test.js:103:43)

  console.error
    [SPOTIFY-SEARCH-ERROR]: Token refresh failed

    [0m [90m 211 |[39m       }[33m;[39m
     [90m 212 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 213 |[39m       console[33m.[39merror([32m'[SPOTIFY-SEARCH-ERROR]:'[39m[33m,[39m error[33m.[39mresponse[33m?[39m[33m.[39mdata [33m||[39m error[33m.[39mmessage)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 214 |[39m       [36mreturn[39m {
     [90m 215 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 216 |[39m         message[33m:[39m [32m'Failed to search tracks'[39m[33m,[39m[0m

      at SpotifyService.searchTrack (services/spotifyService.js:213:15)
      at Object.<anonymous> (tests/unit/spotifyService.test.js:103:22)

  console.info
    [SEARCH-SERVICE] Searching for: test

      at SearchService.search (services/searchService.js:21:15)

  console.info
    [SEARCH-SERVICE] Searching for: what is nodejs

      at SearchService.search (services/searchService.js:21:15)

(node:4256) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/unit/searchService.test.js (7.935 s)
  search Service
    initialization
      Î“ÃªÃœ should initialize with correct base URL (96 ms)
      Î“ÃªÃœ should check if API is configured (3 ms)
    fallback functionality
      Î“ÃªÃœ should provide fallback web search URL (4 ms)
      Î“ÃªÃœ should provide fallback image search URL (2 ms)
      Î“ÃªÃœ should provide fallback news search URL (2 ms)
    data formatting
      Î“ÃªÃœ should format search results correctly (3 ms)
      Î“ÃªÃœ should format image results correctly (3 ms)
      Î“ÃªÃœ should handle empty search results (3 ms)
    error handling
      Î“ÃªÃœ should return fallback on search error (384 ms)
    quick answer feature
      Î“ÃªÃœ should provide quick answer structure (18 ms)

  console.log
    Axios: {
      get: [Function: mockConstructor] {
        _isMockFunction: true,
        getMockImplementation: [Function (anonymous)],
        mock: [Getter/Setter],
        mockClear: [Function (anonymous)],
        mockReset: [Function (anonymous)],
        mockRestore: [Function (anonymous)],
        mockReturnValueOnce: [Function (anonymous)],
        mockResolvedValueOnce: [Function (anonymous)],
        mockRejectedValueOnce: [Function (anonymous)],
        mockReturnValue: [Function (anonymous)],
        mockResolvedValue: [Function (anonymous)],
        mockRejectedValue: [Function (anonymous)],
        mockImplementationOnce: [Function (anonymous)],
        withImplementation: [Function: bound withImplementation],
        mockImplementation: [Function (anonymous)],
        mockReturnThis: [Function (anonymous)],
        mockName: [Function (anonymous)],
        getMockName: [Function (anonymous)]
      },
      post: [Function: mockConstructor] {
        _isMockFunction: true,
        getMockImplementation: [Function (anonymous)],
        mock: [Getter/Setter],
        mockClear: [Function (anonymous)],
        mockReset: [Function (anonymous)],
        mockRestore: [Function (anonymous)],
        mockReturnValueOnce: [Function (anonymous)],
        mockResolvedValueOnce: [Function (anonymous)],
        mockRejectedValueOnce: [Function (anonymous)],
        mockReturnValue: [Function (anonymous)],
        mockResolvedValue: [Function (anonymous)],
        mockRejectedValue: [Function (anonymous)],
        mockImplementationOnce: [Function (anonymous)],
        withImplementation: [Function: bound withImplementation],
        mockImplementation: [Function (anonymous)],
        mockReturnThis: [Function (anonymous)],
        mockName: [Function (anonymous)],
        getMockName: [Function (anonymous)]
      },
      put: [Function: mockConstructor] {
        _isMockFunction: true,
        getMockImplementation: [Function (anonymous)],
        mock: [Getter/Setter],
        mockClear: [Function (anonymous)],
        mockReset: [Function (anonymous)],
        mockRestore: [Function (anonymous)],
        mockReturnValueOnce: [Function (anonymous)],
        mockResolvedValueOnce: [Function (anonymous)],
        mockRejectedValueOnce: [Function (anonymous)],
        mockReturnValue: [Function (anonymous)],
        mockResolvedValue: [Function (anonymous)],
        mockRejectedValue: [Function (anonymous)],
        mockImplementationOnce: [Function (anonymous)],
        withImplementation: [Function: bound withImplementation],
        mockImplementation: [Function (anonymous)],
        mockReturnThis: [Function (anonymous)],
        mockName: [Function (anonymous)],
        getMockName: [Function (anonymous)]
      },
      delete: [Function: mockConstructor] {
        _isMockFunction: true,
        getMockImplementation: [Function (anonymous)],
        mock: [Getter/Setter],
        mockClear: [Function (anonymous)],
        mockReset: [Function (anonymous)],
        mockRestore: [Function (anonymous)],
        mockReturnValueOnce: [Function (anonymous)],
        mockResolvedValueOnce: [Function (anonymous)],
        mockRejectedValueOnce: [Function (anonymous)],
        mockReturnValue: [Function (anonymous)],
        mockResolvedValue: [Function (anonymous)],
        mockRejectedValue: [Function (anonymous)],
        mockImplementationOnce: [Function (anonymous)],
        withImplementation: [Function: bound withImplementation],
        mockImplementation: [Function (anonymous)],
        mockReturnThis: [Function (anonymous)],
        mockName: [Function (anonymous)],
        getMockName: [Function (anonymous)]
      },
      create: [Function: mockConstructor] {
        _isMockFunction: true,
        getMockImplementation: [Function (anonymous)],
        mock: [Getter/Setter],
        mockClear: [Function (anonymous)],
        mockReset: [Function (anonymous)],
        mockRestore: [Function (anonymous)],
        mockReturnValueOnce: [Function (anonymous)],
        mockResolvedValueOnce: [Function (anonymous)],
        mockRejectedValueOnce: [Function (anonymous)],
        mockReturnValue: [Function (anonymous)],
        mockResolvedValue: [Function (anonymous)],
        mockRejectedValue: [Function (anonymous)],
        mockImplementationOnce: [Function (anonymous)],
        withImplementation: [Function: bound withImplementation],
        mockImplementation: [Function (anonymous)],
        mockReturnThis: [Function (anonymous)],
        mockName: [Function (anonymous)],
        getMockName: [Function (anonymous)]
      },
      interceptors: {
        request: { use: [Function], eject: [Function] },
        response: { use: [Function], eject: [Function] }
      },
      defaults: { headers: { common: {} } }
    }

      at Object.<anonymous> (tests/unit/debug.test.js:6:17)

(node:2112) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/unit/debug.test.js (7.881 s)
  Debug Mocks
    Î“ÃªÃœ should have mocked axios (497 ms)

  console.error
    [TRANSLATE-ERROR]: Cannot read properties of undefined (reading 'translations')

    [0m [90m 59 |[39m       }[33m;[39m
     [90m 60 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 61 |[39m       console[33m.[39merror([32m'[TRANSLATE-ERROR]:'[39m[33m,[39m error[33m.[39mresponse[33m?[39m[33m.[39mdata [33m||[39m error[33m.[39mmessage)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 62 |[39m       
     [90m 63 |[39m       [90m// Check if API key is invalid[39m
     [90m 64 |[39m       [36mif[39m (error[33m.[39mresponse[33m?[39m[33m.[39mstatus [33m===[39m [35m400[39m [33m||[39m error[33m.[39mresponse[33m?[39m[33m.[39mstatus [33m===[39m [35m403[39m) {[0m

      at TranslateService.translate (services/translateService.js:61:15)
      at Object.<anonymous> (tests/unit/translateService.test.js:110:22)

  console.error
    [TRANSLATE-ERROR]: Cannot read properties of undefined (reading 'translations')

    [0m [90m 59 |[39m       }[33m;[39m
     [90m 60 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 61 |[39m       console[33m.[39merror([32m'[TRANSLATE-ERROR]:'[39m[33m,[39m error[33m.[39mresponse[33m?[39m[33m.[39mdata [33m||[39m error[33m.[39mmessage)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 62 |[39m       
     [90m 63 |[39m       [90m// Check if API key is invalid[39m
     [90m 64 |[39m       [36mif[39m (error[33m.[39mresponse[33m?[39m[33m.[39mstatus [33m===[39m [35m400[39m [33m||[39m error[33m.[39mresponse[33m?[39m[33m.[39mstatus [33m===[39m [35m403[39m) {[0m

      at TranslateService.translate (services/translateService.js:61:15)
      at Object.<anonymous> (tests/unit/translateService.test.js:123:22)

(node:12632) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
FAIL tests/unit/spotifyService.test.js (8.221 s)
  SpotifyService
    isConfigured
      Î“ÃªÃœ should return false when credentials are missing (83 ms)
      Î“ÃªÃœ should return true when credentials are present (1 ms)
    getAuthUrl
      Î“ÃªÃœ should generate auth URL with correct parameters (4 ms)
      Î“ÃªÃœ should return fallback when not configured (2 ms)
    searchTrack
      Î“ÃªÃœ should return fallback when not configured (4 ms)
      Î“ÃªÃœ should handle empty query (443 ms)
    getFallbackUrl
      â”œÃ¹ should generate correct fallback URL for search (8 ms)
      Î“ÃªÃœ should generate correct fallback URL for play (6 ms)
      Î“ÃªÃœ should handle missing query parameter (5 ms)

  Î“Ã¹Ã… SpotifyService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should generate correct fallback URL for search

    expect(received).toContain(expected) // indexOf

    Expected substring: "test%20song"
    Received string:    "https://open.spotify.com/search/search"

      116 |
      117 |       expect(result.url).toContain('open.spotify.com/search');
    > 118 |       expect(result.url).toContain('test%20song');
          |                          ^
      119 |     });
      120 |
      121 |     test('should generate correct fallback URL for play', () => {

      at Object.<anonymous> (tests/unit/spotifyService.test.js:118:26)

(node:9644) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
FAIL tests/unit/translateService.test.js (8.075 s)
  TranslateService
    isConfigured
      Î“ÃªÃœ should return false when API key is missing (93 ms)
      Î“ÃªÃœ should return true when API key is present (2 ms)
    getLanguageName
      Î“ÃªÃœ should return correct language name for valid code (4 ms)
      Î“ÃªÃœ should return code itself for unknown language (3 ms)
    getCommonLanguages
      Î“ÃªÃœ should return array of common languages (6 ms)
      Î“ÃªÃœ should include English in common languages (1 ms)
    getFallbackUrl
      â”œÃ¹ should generate correct fallback URL (10 ms)
      Î“ÃªÃœ should handle auto-detect source language (2 ms)
    translate
      Î“ÃªÃœ should return fallback when not configured (3 ms)
      Î“ÃªÃœ should handle empty text (432 ms)
      Î“ÃªÃœ should handle missing target language (16 ms)
    getSupportedLanguages
      Î“ÃªÃœ should return common languages when not configured (2 ms)

  Î“Ã¹Ã… TranslateService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should generate correct fallback URL

    expect(received).toContain(expected) // indexOf

    Expected substring: "sl=en"
    Received string:    "https://translate.google.com/?sl=auto&tl=es&text=Hello"

      77 |
      78 |       expect(result.url).toContain('translate.google.com');
    > 79 |       expect(result.url).toContain('sl=en');
         |                          ^
      80 |       expect(result.url).toContain('tl=es');
      81 |       expect(result.url).toContain('text=Hello');
      82 |     });

      at Object.<anonymous> (tests/unit/translateService.test.js:79:26)

PASS tests/unit/notesService.test.js
  notes Service
    initialization
      Î“ÃªÃœ should initialize correctly (8 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (3 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (2 ms)

PASS tests/unit/deviceManager.test.js
  deviceManager Service
    device control operations
      Î“ÃªÃœ should support bluetooth device control (7 ms)
      Î“ÃªÃœ should handle device connection (3 ms)
      Î“ÃªÃœ should support multiple device types (2 ms)
    error handling
      Î“ÃªÃœ should handle connection errors (2 ms)
      Î“ÃªÃœ should handle timeout errors (2 ms)
    device capabilities
      Î“ÃªÃœ should validate device actions (1 ms)
      Î“ÃªÃœ should validate chromecast actions (1 ms)

  console.info
    [WEATHER-SERVICE] Fetching weather for: NonexistentCity12345

      at WeatherService.getCurrentWeather (services/weatherService.js:21:15)

  console.error
    [YOUTUBE-SEARCH-ERROR]: Cannot read properties of undefined (reading 'map')

    [0m [90m 67 |[39m       }[33m;[39m
     [90m 68 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 69 |[39m       console[33m.[39merror([32m'[YOUTUBE-SEARCH-ERROR]:'[39m[33m,[39m error[33m.[39mresponse[33m?[39m[33m.[39mdata [33m||[39m error[33m.[39mmessage)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 70 |[39m
     [90m 71 |[39m       [90m// Check if API key is invalid[39m
     [90m 72 |[39m       [36mif[39m (error[33m.[39mresponse[33m?[39m[33m.[39mstatus [33m===[39m [35m400[39m [33m||[39m error[33m.[39mresponse[33m?[39m[33m.[39mstatus [33m===[39m [35m403[39m) {[0m

      at YouTubeService.searchVideos (services/youtubeService.js:69:15)
      at Object.<anonymous> (tests/unit/youtubeService.test.js:144:22)

  console.error
    [WEATHER-ERROR]: Cannot read properties of undefined (reading 'temp')

    [0m [90m 31 |[39m       [36mreturn[39m [36mthis[39m[33m.[39mformatCurrentWeather(response[33m.[39mdata)[33m;[39m
     [90m 32 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 33 |[39m       console[33m.[39merror([32m'[WEATHER-ERROR]:'[39m[33m,[39m error[33m.[39mresponse[33m?[39m[33m.[39mdata [33m||[39m error[33m.[39mmessage)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 34 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Unable to fetch weather for ${city}`[39m)[33m;[39m
     [90m 35 |[39m     }
     [90m 36 |[39m   }[0m

      at WeatherService.getCurrentWeather (services/weatherService.js:33:15)
      at Object.<anonymous> (tests/unit/weatherService.test.js:73:7)

  console.error
    [WEATHER-ERROR]: Cannot read properties of undefined (reading 'temp')

    [0m [90m 52 |[39m       [36mreturn[39m [36mthis[39m[33m.[39mformatCurrentWeather(response[33m.[39mdata)[33m;[39m
     [90m 53 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 54 |[39m       console[33m.[39merror([32m'[WEATHER-ERROR]:'[39m[33m,[39m error[33m.[39mresponse[33m?[39m[33m.[39mdata [33m||[39m error[33m.[39mmessage)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 55 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m'Unable to fetch weather for your location'[39m)[33m;[39m
     [90m 56 |[39m     }
     [90m 57 |[39m   }[0m

      at WeatherService.getWeatherByCoords (services/weatherService.js:54:15)
      at Object.<anonymous> (tests/unit/weatherService.test.js:83:7)

(node:17464) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/unit/weatherService.test.js (8.766 s)
  weather Service
    initialization
      Î“ÃªÃœ should initialize with correct base URLs (94 ms)
      Î“ÃªÃœ should check if API key is configured (2 ms)
    data formatting
      Î“ÃªÃœ should format current weather data correctly (820 ms)
      Î“ÃªÃœ should format forecast data correctly (22 ms)
    error handling
      Î“ÃªÃœ should handle missing city gracefully (530 ms)
      Î“ÃªÃœ should handle invalid coordinates (21 ms)
    main functionality
      Î“ÃªÃœ should support metric and imperial units (2 ms)
      Î“ÃªÃœ should provide voice-friendly responses (3 ms)

(node:17908) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
FAIL tests/unit/youtubeService.test.js (8.968 s)
  YoutubeService
    isConfigured
      Î“ÃªÃœ should return false when API key is missing (99 ms)
      Î“ÃªÃœ should return true when API key is present (1 ms)
    parseDuration
      â”œÃ¹ should parse ISO 8601 duration correctly (12 ms)
      Î“ÃªÃœ should handle invalid duration format (1 ms)
    formatViewCount
      Î“ÃªÃœ should format view counts correctly (3 ms)
      Î“ÃªÃœ should handle zero views (1 ms)
    formatNumber
      Î“ÃªÃœ should format numbers with commas (717 ms)
    getFallbackUrl
      â”œÃ¹ should generate correct fallback URL for search (4 ms)
      â”œÃ¹ should generate correct fallback URL for watch (4 ms)
      â”œÃ¹ should handle missing query parameter (14 ms)
    searchVideos
      Î“ÃªÃœ should return fallback when not configured (5 ms)
      Î“ÃªÃœ should handle empty query (544 ms)

  Î“Ã¹Ã… YoutubeService Î“Ã‡â•‘ parseDuration Î“Ã‡â•‘ should parse ISO 8601 duration correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: "0:45"
    Received: "00:45"

      44 |       testCases.forEach(({ input, expected }) => {
      45 |         const result = youtubeService.parseDuration(input);
    > 46 |         expect(result.formatted).toBe(expected);
         |                                  ^
      47 |       });
      48 |     });
      49 |

      at tests/unit/youtubeService.test.js:46:34
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/unit/youtubeService.test.js:44:17)

  Î“Ã¹Ã… YoutubeService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should generate correct fallback URL for search

    expect(received).toContain(expected) // indexOf

    Expected substring: "search_query=test+video"
    Received string:    "https://www.youtube.com/results?search_query=search"

      106 |
      107 |       expect(result.url).toContain('youtube.com/results');
    > 108 |       expect(result.url).toContain('search_query=test+video');
          |                          ^
      109 |     });
      110 |
      111 |     test('should generate correct fallback URL for watch', () => {

      at Object.<anonymous> (tests/unit/youtubeService.test.js:108:26)

  Î“Ã¹Ã… YoutubeService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should generate correct fallback URL for watch

    expect(received).toContain(expected) // indexOf

    Expected substring: "youtube.com/watch"
    Received string:    "https://www.youtube.com/results?search_query=watch"

      112 |       const result = youtubeService.getFallbackUrl('watch', 'dQw4w9WgXcQ');
      113 |
    > 114 |       expect(result.url).toContain('youtube.com/watch');
          |                          ^
      115 |       expect(result.url).toContain('v=dQw4w9WgXcQ');
      116 |     });
      117 |

      at Object.<anonymous> (tests/unit/youtubeService.test.js:114:26)

  Î“Ã¹Ã… YoutubeService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should handle missing query parameter

    expect(received).toBe(expected) // Object.is equality

    Expected: "https://www.youtube.com"
    Received: "https://www.youtube.com/results?search_query=home"

      119 |       const result = youtubeService.getFallbackUrl('home');
      120 |
    > 121 |       expect(result.url).toBe('https://www.youtube.com');
          |                          ^
      122 |     });
      123 |   });
      124 |

      at Object.<anonymous> (tests/unit/youtubeService.test.js:121:26)

PASS tests/unit/security.test.js
  Security Tests
    Î“ÃªÃœ should have a placeholder test (6 ms)

PASS tests/unit/reminderService.test.js
  reminder Service
    initialization
      Î“ÃªÃœ should initialize correctly (8 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (4 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (4 ms)

PASS tests/unit/conversationService.test.js
  conversation Service
    initialization
      Î“ÃªÃœ should initialize correctly (8 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (4 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (2 ms)

PASS tests/unit/newsService.test.js
  news Service
    initialization
      Î“ÃªÃœ should initialize correctly (6 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (2 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (2 ms)

PASS tests/unit/weatherService.cached.test.js
  weather.cached Service
    initialization
      Î“ÃªÃœ should initialize correctly (7 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (2 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (1 ms)

PASS tests/integration/spotify.test.js
  Spotify Integration Tests
    Î“ÃªÃœ should have a placeholder test (6 ms)

PASS tests/unit/calendarService.test.js
  calendar Service
    initialization
      Î“ÃªÃœ should initialize correctly (9 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (2 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (2 ms)

PASS tests/unit/gmailService.test.js
  gmail Service
    initialization
      Î“ÃªÃœ should initialize correctly (13 ms)
    error handling
      Î“ÃªÃœ should handle errors gracefully (7 ms)
    main functionality
      Î“ÃªÃœ should perform core operations (3 ms)

PASS tests/integration/music.test.js
  Music Integration Tests
    Î“ÃªÃœ should have a placeholder test (7 ms)

(node:3624) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:15924) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:17052) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
FAIL tests/integration/youtube.routes.test.js (18.584 s)
  YouTube Routes
    POST /api/youtube/search
      â”œÃ¹ should return 400 for empty query (701 ms)
      â”œÃ¹ should return search results or fallback (44 ms)
      â”œÃ¹ should use default maxResults when not provided (37 ms)
    POST /api/youtube/video/:videoId
      â”œÃ¹ should return video details or fallback (41 ms)
      Î“ÃªÃœ should handle invalid video ID format (33 ms)
    POST /api/youtube/channel/search
      â”œÃ¹ should return 400 for empty query (34 ms)
      â”œÃ¹ should return channel search results (41 ms)
    POST /api/youtube/channel/:channelId
      â”œÃ¹ should return channel info or fallback (39 ms)
    POST /api/youtube/trending
      â”œÃ¹ should return trending videos (47 ms)
      â”œÃ¹ should use default maxResults when not provided (39 ms)
      â”œÃ¹ should handle regionCode parameter (29 ms)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/search Î“Ã‡â•‘ should return 400 for empty query

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      18 |         .post('/api/youtube/search')
      19 |         .send({ query: '' })
    > 20 |         .expect('Content-Type', /json/);
         |          ^
      21 |       
      22 |       expect(response.status).toBe(400);
      23 |       expect(response.body).toHaveProperty('error');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:20:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/search Î“Ã‡â•‘ should return search results or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      28 |         .post('/api/youtube/search')
      29 |         .send({ query: 'test video', maxResults: 5 })
    > 30 |         .expect('Content-Type', /json/);
         |          ^
      31 |       
      32 |       expect(response.status).toBe(200);
      33 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:30:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/search Î“Ã‡â•‘ should use default maxResults when not provided

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      38 |         .post('/api/youtube/search')
      39 |         .send({ query: 'test video' })
    > 40 |         .expect('Content-Type', /json/);
         |          ^
      41 |       
      42 |       expect(response.status).toBe(200);
      43 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:40:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/video/:videoId Î“Ã‡â•‘ should return video details or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      49 |       const response = await request(app)
      50 |         .post('/api/youtube/video/dQw4w9WgXcQ')
    > 51 |         .expect('Content-Type', /json/);
         |          ^
      52 |       
      53 |       expect(response.status).toBe(200);
      54 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:51:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/channel/search Î“Ã‡â•‘ should return 400 for empty query

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      67 |         .post('/api/youtube/channel/search')
      68 |         .send({ query: '' })
    > 69 |         .expect('Content-Type', /json/);
         |          ^
      70 |       
      71 |       expect(response.status).toBe(400);
      72 |       expect(response.body).toHaveProperty('error');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:69:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/channel/search Î“Ã‡â•‘ should return channel search results

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      77 |         .post('/api/youtube/channel/search')
      78 |         .send({ query: 'test channel', maxResults: 5 })
    > 79 |         .expect('Content-Type', /json/);
         |          ^
      80 |       
      81 |       expect(response.status).toBe(200);
      82 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:79:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/channel/:channelId Î“Ã‡â•‘ should return channel info or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      88 |       const response = await request(app)
      89 |         .post('/api/youtube/channel/UCtest123')
    > 90 |         .expect('Content-Type', /json/);
         |          ^
      91 |       
      92 |       expect(response.status).toBe(200);
      93 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:90:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/trending Î“Ã‡â•‘ should return trending videos

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      100 |         .post('/api/youtube/trending')
      101 |         .send({ maxResults: 10 })
    > 102 |         .expect('Content-Type', /json/);
          |          ^
      103 |       
      104 |       expect(response.status).toBe(200);
      105 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:102:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/trending Î“Ã‡â•‘ should use default maxResults when not provided

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      110 |         .post('/api/youtube/trending')
      111 |         .send({})
    > 112 |         .expect('Content-Type', /json/);
          |          ^
      113 |       
      114 |       expect(response.status).toBe(200);
      115 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:112:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/trending Î“Ã‡â•‘ should handle regionCode parameter

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      120 |         .post('/api/youtube/trending')
      121 |         .send({ regionCode: 'US', maxResults: 5 })
    > 122 |         .expect('Content-Type', /json/);
          |          ^
      123 |       
      124 |       expect(response.status).toBe(200);
      125 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:122:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at jsonParser (E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\types\json.js:122:7)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at expressInit (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\init.js:40:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at query (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\query.js:45:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at app.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\application.js:181:10)
        at Server.app (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\express.js:39:9)
        at Server.emit (node:events:507:28)
        at parserOnIncoming (node:_http_server:1153:12)
        at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:122:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at app.handle (node_modules/express/lib/application.js:181:10)
      at Server.app (node_modules/express/lib/express.js:39:9)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at jsonParser (E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\types\json.js:122:7)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at expressInit (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\init.js:40:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at query (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\query.js:45:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at app.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\application.js:181:10)
        at Server.app (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\express.js:39:9)
        at Server.emit (node:events:507:28)
        at parserOnIncoming (node:_http_server:1153:12)
        at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:122:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at app.handle (node_modules/express/lib/application.js:181:10)
      at Server.app (node_modules/express/lib/express.js:39:9)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at jsonParser (E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\types\json.js:113:7)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at expressInit (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\init.js:40:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at query (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\query.js:45:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at app.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\application.js:181:10)
        at Server.app (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\express.js:39:9)
        at Server.emit (node:events:507:28)
        at parserOnIncoming (node:_http_server:1153:12)
        at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at app.handle (node_modules/express/lib/application.js:181:10)
      at Server.app (node_modules/express/lib/express.js:39:9)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at jsonParser (E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\types\json.js:122:7)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at expressInit (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\init.js:40:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at query (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\query.js:45:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at app.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\application.js:181:10)
        at Server.app (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\express.js:39:9)
        at Server.emit (node:events:507:28)
        at parserOnIncoming (node:_http_server:1153:12)
        at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:122:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at app.handle (node_modules/express/lib/application.js:181:10)
      at Server.app (node_modules/express/lib/express.js:39:9)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at jsonParser (E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\types\json.js:113:7)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at expressInit (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\init.js:40:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at query (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\query.js:45:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at app.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\application.js:181:10)
        at Server.app (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\express.js:39:9)
        at Server.emit (node:events:507:28)
        at parserOnIncoming (node:_http_server:1153:12)
        at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at app.handle (node_modules/express/lib/application.js:181:10)
      at Server.app (node_modules/express/lib/express.js:39:9)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\read.js:137:5
        at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
        at invokeCallback (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:238:16)
        at done (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:227:7)
        at IncomingMessage.onEnd (E:\AI-Powered-Virtual-Assistant\backend\node_modules\raw-body\index.js:287:7)
        at IncomingMessage.emit (node:events:507:28)
        at endReadableNT (node:internal/streams/readable:1701:12)
        at processTicksAndRejections (node:internal/process/task_queues:90:21)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

FAIL tests/integration/translate.routes.test.js (19.281 s)
  Translate Routes
    POST /api/translate
      â”œÃ¹ should return 400 for empty text (1428 ms)
      â”œÃ¹ should return 400 for missing target language (65 ms)
      â”œÃ¹ should return translation or fallback (53 ms)
      â”œÃ¹ should handle auto-detect source language (53 ms)
    POST /api/translate/detect
      â”œÃ¹ should return 400 for empty text (47 ms)
      â”œÃ¹ should detect language (67 ms)
    GET /api/translate/languages
      â”œÃ¹ should return list of supported languages (120 ms)
      â”œÃ¹ should return languages with code and name (61 ms)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate Î“Ã‡â•‘ should return 400 for empty text

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      20 |         .expect('Content-Type', /json/);
      21 |       
    > 22 |       expect(response.status).toBe(400);
         |                               ^
      23 |       expect(response.body).toHaveProperty('error');
      24 |     });
      25 |

      at Object.<anonymous> (tests/integration/translate.routes.test.js:22:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate Î“Ã‡â•‘ should return 400 for missing target language

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      30 |         .expect('Content-Type', /json/);
      31 |       
    > 32 |       expect(response.status).toBe(400);
         |                               ^
      33 |       expect(response.body).toHaveProperty('error');
      34 |     });
      35 |

      at Object.<anonymous> (tests/integration/translate.routes.test.js:32:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate Î“Ã‡â•‘ should return translation or fallback

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      44 |         .expect('Content-Type', /json/);
      45 |       
    > 46 |       expect(response.status).toBe(200);
         |                               ^
      47 |       expect(response.body).toHaveProperty('success');
      48 |     });
      49 |

      at Object.<anonymous> (tests/integration/translate.routes.test.js:46:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate Î“Ã‡â•‘ should handle auto-detect source language

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      57 |         .expect('Content-Type', /json/);
      58 |       
    > 59 |       expect(response.status).toBe(200);
         |                               ^
      60 |       expect(response.body).toHaveProperty('success');
      61 |     });
      62 |   });

      at Object.<anonymous> (tests/integration/translate.routes.test.js:59:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate/detect Î“Ã‡â•‘ should return 400 for empty text

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      69 |         .expect('Content-Type', /json/);
      70 |       
    > 71 |       expect(response.status).toBe(400);
         |                               ^
      72 |       expect(response.body).toHaveProperty('error');
      73 |     });
      74 |

      at Object.<anonymous> (tests/integration/translate.routes.test.js:71:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate/detect Î“Ã‡â•‘ should detect language

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      79 |         .expect('Content-Type', /json/);
      80 |       
    > 81 |       expect(response.status).toBe(200);
         |                               ^
      82 |       expect(response.body).toHaveProperty('success');
      83 |     });
      84 |   });

      at Object.<anonymous> (tests/integration/translate.routes.test.js:81:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ GET /api/translate/languages Î“Ã‡â•‘ should return list of supported languages

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      90 |         .expect('Content-Type', /json/);
      91 |       
    > 92 |       expect(response.status).toBe(200);
         |                               ^
      93 |       expect(response.body).toHaveProperty('success');
      94 |       expect(response.body).toHaveProperty('languages');
      95 |       expect(Array.isArray(response.body.languages)).toBe(true);

      at Object.<anonymous> (tests/integration/translate.routes.test.js:92:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ GET /api/translate/languages Î“Ã‡â•‘ should return languages with code and name

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      102 |         .expect('Content-Type', /json/);
      103 |       
    > 104 |       expect(response.status).toBe(200);
          |                               ^
      105 |       expect(response.body.languages[0]).toHaveProperty('code');
      106 |       expect(response.body.languages[0]).toHaveProperty('name');
      107 |     });

      at Object.<anonymous> (tests/integration/translate.routes.test.js:104:31)

  console.error
    Auth Error: TypeError: Cannot read properties of undefined (reading 'token')
        at isAuth (E:\AI-Powered-Virtual-Assistant\backend\middlewares\isAuth.js:4:35)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:284:15
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at router (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at jsonParser (E:\AI-Powered-Virtual-Assistant\backend\node_modules\body-parser\lib\types\json.js:113:7)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at expressInit (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\init.js:40:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at query (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\middleware\query.js:45:5)
        at Layer.handle [as handle_request] (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:328:13)
        at E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:286:9
        at router.process_params (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:346:12)
        at next (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:280:10)
        at router.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\router\index.js:175:3)
        at app.handle (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\application.js:181:10)
        at Server.app (E:\AI-Powered-Virtual-Assistant\backend\node_modules\express\lib\express.js:39:9)
        at Server.emit (node:events:507:28)
        at parserOnIncoming (node:_http_server:1153:12)
        at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

    [0m [90m 21 |[39m         next()[33m;[39m
     [90m 22 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 23 |[39m         console[33m.[39merror([32m'Auth Error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 24 |[39m         [36mif[39m (error[33m.[39mname [33m===[39m [32m'JsonWebTokenError'[39m) {
     [90m 25 |[39m             [36mreturn[39m res[33m.[39mstatus([35m401[39m)[33m.[39mjson({
     [90m 26 |[39m                 success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at isAuth (middlewares/isAuth.js:23:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at app.handle (node_modules/express/lib/application.js:181:10)
      at Server.app (node_modules/express/lib/express.js:39:9)

FAIL tests/integration/music.routes.test.js (20.014 s)
  Music Routes
    GET /api/music/auth
      â”œÃ¹ should return auth URL or fallback (355 ms)
    POST /api/music/search
      â”œÃ¹ should return 400 for empty query (398 ms)
      â”œÃ¹ should return search results or fallback (51 ms)
    POST /api/music/play
      â”œÃ¹ should return 400 for missing uri (742 ms)
      â”œÃ¹ should handle play request (45 ms)
    POST /api/music/pause
      â”œÃ¹ should handle pause request (165 ms)
    POST /api/music/next
      â”œÃ¹ should handle next track request (46 ms)
    POST /api/music/previous
      â”œÃ¹ should handle previous track request (46 ms)
    POST /api/music/volume
      â”œÃ¹ should return 400 for missing volume (49 ms)
      â”œÃ¹ should return 400 for invalid volume (69 ms)
      â”œÃ¹ should handle valid volume request (74 ms)
    GET /api/music/current
      â”œÃ¹ should return current playback info (108 ms)
    GET /api/music/devices
      â”œÃ¹ should return available devices (57 ms)
    POST /api/music/device
      â”œÃ¹ should return 400 for missing deviceId (48 ms)
      â”œÃ¹ should handle device change request (81 ms)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ GET /api/music/auth Î“Ã‡â•‘ should return auth URL or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      17 |       const response = await request(app)
      18 |         .get('/api/music/auth')
    > 19 |         .expect('Content-Type', /json/);
         |          ^
      20 |       
      21 |       expect(response.status).toBe(200);
      22 |       expect(response.body).toHaveProperty('url');

      at Object.<anonymous> (tests/integration/music.routes.test.js:19:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/search Î“Ã‡â•‘ should return 400 for empty query

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      30 |         .post('/api/music/search')
      31 |         .send({ query: '' })
    > 32 |         .expect('Content-Type', /json/);
         |          ^
      33 |       
      34 |       expect(response.status).toBe(400);
      35 |       expect(response.body).toHaveProperty('error');

      at Object.<anonymous> (tests/integration/music.routes.test.js:32:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/search Î“Ã‡â•‘ should return search results or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      40 |         .post('/api/music/search')
      41 |         .send({ query: 'test song', limit: 5 })
    > 42 |         .expect('Content-Type', /json/);
         |          ^
      43 |       
      44 |       expect(response.status).toBe(200);
      45 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/music.routes.test.js:42:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/play Î“Ã‡â•‘ should return 400 for missing uri

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      54 |         .expect('Content-Type', /json/);
      55 |       
    > 56 |       expect(response.status).toBe(400);
         |                               ^
      57 |       expect(response.body).toHaveProperty('error');
      58 |     });
      59 |

      at Object.<anonymous> (tests/integration/music.routes.test.js:56:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/play Î“Ã‡â•‘ should handle play request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      64 |         .expect('Content-Type', /json/);
      65 |       
    > 66 |       expect(response.status).toBe(200);
         |                               ^
      67 |       expect(response.body).toHaveProperty('success');
      68 |     });
      69 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:66:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/pause Î“Ã‡â•‘ should handle pause request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      75 |         .expect('Content-Type', /json/);
      76 |       
    > 77 |       expect(response.status).toBe(200);
         |                               ^
      78 |       expect(response.body).toHaveProperty('success');
      79 |     });
      80 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:77:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/next Î“Ã‡â•‘ should handle next track request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      86 |         .expect('Content-Type', /json/);
      87 |       
    > 88 |       expect(response.status).toBe(200);
         |                               ^
      89 |       expect(response.body).toHaveProperty('success');
      90 |     });
      91 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:88:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/previous Î“Ã‡â•‘ should handle previous track request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

       97 |         .expect('Content-Type', /json/);
       98 |       
    >  99 |       expect(response.status).toBe(200);
          |                               ^
      100 |       expect(response.body).toHaveProperty('success');
      101 |     });
      102 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:99:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/volume Î“Ã‡â•‘ should return 400 for missing volume

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      109 |         .expect('Content-Type', /json/);
      110 |       
    > 111 |       expect(response.status).toBe(400);
          |                               ^
      112 |       expect(response.body).toHaveProperty('error');
      113 |     });
      114 |

      at Object.<anonymous> (tests/integration/music.routes.test.js:111:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/volume Î“Ã‡â•‘ should return 400 for invalid volume

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      119 |         .expect('Content-Type', /json/);
      120 |       
    > 121 |       expect(response.status).toBe(400);
          |                               ^
      122 |       expect(response.body.error).toContain('0-100');
      123 |     });
      124 |

      at Object.<anonymous> (tests/integration/music.routes.test.js:121:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/volume Î“Ã‡â•‘ should handle valid volume request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      129 |         .expect('Content-Type', /json/);
      130 |       
    > 131 |       expect(response.status).toBe(200);
          |                               ^
      132 |       expect(response.body).toHaveProperty('success');
      133 |     });
      134 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:131:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ GET /api/music/current Î“Ã‡â•‘ should return current playback info

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      140 |         .expect('Content-Type', /json/);
      141 |       
    > 142 |       expect(response.status).toBe(200);
          |                               ^
      143 |       expect(response.body).toHaveProperty('success');
      144 |     });
      145 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:142:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ GET /api/music/devices Î“Ã‡â•‘ should return available devices

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      149 |       const response = await request(app)
      150 |         .get('/api/music/devices')
    > 151 |         .expect('Content-Type', /json/);
          |          ^
      152 |       
      153 |       expect(response.status).toBe(200);
      154 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/music.routes.test.js:151:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/device Î“Ã‡â•‘ should return 400 for missing deviceId

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      161 |         .post('/api/music/device')
      162 |         .send({})
    > 163 |         .expect('Content-Type', /json/);
          |          ^
      164 |       
      165 |       expect(response.status).toBe(400);
      166 |       expect(response.body).toHaveProperty('error');

      at Object.<anonymous> (tests/integration/music.routes.test.js:163:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/device Î“Ã‡â•‘ should handle device change request

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      171 |         .post('/api/music/device')
      172 |         .send({ deviceId: 'test-device-123' })
    > 173 |         .expect('Content-Type', /json/);
          |          ^
      174 |       
      175 |       expect(response.status).toBe(200);
      176 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/music.routes.test.js:173:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL tests/integration/user.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/wikipedia.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/weather.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/search.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/reminder.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/notes.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/gmail.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/news.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/device.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/calendar.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/auth.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

Summary of all failing tests
FAIL tests/unit/spotifyService.test.js (8.221 s)
  Î“Ã¹Ã… SpotifyService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should generate correct fallback URL for search

    expect(received).toContain(expected) // indexOf

    Expected substring: "test%20song"
    Received string:    "https://open.spotify.com/search/search"

      116 |
      117 |       expect(result.url).toContain('open.spotify.com/search');
    > 118 |       expect(result.url).toContain('test%20song');
          |                          ^
      119 |     });
      120 |
      121 |     test('should generate correct fallback URL for play', () => {

      at Object.<anonymous> (tests/unit/spotifyService.test.js:118:26)

FAIL tests/unit/translateService.test.js (8.075 s)
  Î“Ã¹Ã… TranslateService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should generate correct fallback URL

    expect(received).toContain(expected) // indexOf

    Expected substring: "sl=en"
    Received string:    "https://translate.google.com/?sl=auto&tl=es&text=Hello"

      77 |
      78 |       expect(result.url).toContain('translate.google.com');
    > 79 |       expect(result.url).toContain('sl=en');
         |                          ^
      80 |       expect(result.url).toContain('tl=es');
      81 |       expect(result.url).toContain('text=Hello');
      82 |     });

      at Object.<anonymous> (tests/unit/translateService.test.js:79:26)

FAIL tests/unit/youtubeService.test.js (8.968 s)
  Î“Ã¹Ã… YoutubeService Î“Ã‡â•‘ parseDuration Î“Ã‡â•‘ should parse ISO 8601 duration correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: "0:45"
    Received: "00:45"

      44 |       testCases.forEach(({ input, expected }) => {
      45 |         const result = youtubeService.parseDuration(input);
    > 46 |         expect(result.formatted).toBe(expected);
         |                                  ^
      47 |       });
      48 |     });
      49 |

      at tests/unit/youtubeService.test.js:46:34
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/unit/youtubeService.test.js:44:17)

  Î“Ã¹Ã… YoutubeService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should generate correct fallback URL for search

    expect(received).toContain(expected) // indexOf

    Expected substring: "search_query=test+video"
    Received string:    "https://www.youtube.com/results?search_query=search"

      106 |
      107 |       expect(result.url).toContain('youtube.com/results');
    > 108 |       expect(result.url).toContain('search_query=test+video');
          |                          ^
      109 |     });
      110 |
      111 |     test('should generate correct fallback URL for watch', () => {

      at Object.<anonymous> (tests/unit/youtubeService.test.js:108:26)

  Î“Ã¹Ã… YoutubeService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should generate correct fallback URL for watch

    expect(received).toContain(expected) // indexOf

    Expected substring: "youtube.com/watch"
    Received string:    "https://www.youtube.com/results?search_query=watch"

      112 |       const result = youtubeService.getFallbackUrl('watch', 'dQw4w9WgXcQ');
      113 |
    > 114 |       expect(result.url).toContain('youtube.com/watch');
          |                          ^
      115 |       expect(result.url).toContain('v=dQw4w9WgXcQ');
      116 |     });
      117 |

      at Object.<anonymous> (tests/unit/youtubeService.test.js:114:26)

  Î“Ã¹Ã… YoutubeService Î“Ã‡â•‘ getFallbackUrl Î“Ã‡â•‘ should handle missing query parameter

    expect(received).toBe(expected) // Object.is equality

    Expected: "https://www.youtube.com"
    Received: "https://www.youtube.com/results?search_query=home"

      119 |       const result = youtubeService.getFallbackUrl('home');
      120 |
    > 121 |       expect(result.url).toBe('https://www.youtube.com');
          |                          ^
      122 |     });
      123 |   });
      124 |

      at Object.<anonymous> (tests/unit/youtubeService.test.js:121:26)

FAIL tests/integration/youtube.routes.test.js (18.584 s)
  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/search Î“Ã‡â•‘ should return 400 for empty query

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      18 |         .post('/api/youtube/search')
      19 |         .send({ query: '' })
    > 20 |         .expect('Content-Type', /json/);
         |          ^
      21 |       
      22 |       expect(response.status).toBe(400);
      23 |       expect(response.body).toHaveProperty('error');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:20:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/search Î“Ã‡â•‘ should return search results or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      28 |         .post('/api/youtube/search')
      29 |         .send({ query: 'test video', maxResults: 5 })
    > 30 |         .expect('Content-Type', /json/);
         |          ^
      31 |       
      32 |       expect(response.status).toBe(200);
      33 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:30:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/search Î“Ã‡â•‘ should use default maxResults when not provided

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      38 |         .post('/api/youtube/search')
      39 |         .send({ query: 'test video' })
    > 40 |         .expect('Content-Type', /json/);
         |          ^
      41 |       
      42 |       expect(response.status).toBe(200);
      43 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:40:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/video/:videoId Î“Ã‡â•‘ should return video details or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      49 |       const response = await request(app)
      50 |         .post('/api/youtube/video/dQw4w9WgXcQ')
    > 51 |         .expect('Content-Type', /json/);
         |          ^
      52 |       
      53 |       expect(response.status).toBe(200);
      54 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:51:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/channel/search Î“Ã‡â•‘ should return 400 for empty query

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      67 |         .post('/api/youtube/channel/search')
      68 |         .send({ query: '' })
    > 69 |         .expect('Content-Type', /json/);
         |          ^
      70 |       
      71 |       expect(response.status).toBe(400);
      72 |       expect(response.body).toHaveProperty('error');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:69:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/channel/search Î“Ã‡â•‘ should return channel search results

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      77 |         .post('/api/youtube/channel/search')
      78 |         .send({ query: 'test channel', maxResults: 5 })
    > 79 |         .expect('Content-Type', /json/);
         |          ^
      80 |       
      81 |       expect(response.status).toBe(200);
      82 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:79:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/channel/:channelId Î“Ã‡â•‘ should return channel info or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      88 |       const response = await request(app)
      89 |         .post('/api/youtube/channel/UCtest123')
    > 90 |         .expect('Content-Type', /json/);
         |          ^
      91 |       
      92 |       expect(response.status).toBe(200);
      93 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:90:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/trending Î“Ã‡â•‘ should return trending videos

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      100 |         .post('/api/youtube/trending')
      101 |         .send({ maxResults: 10 })
    > 102 |         .expect('Content-Type', /json/);
          |          ^
      103 |       
      104 |       expect(response.status).toBe(200);
      105 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:102:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/trending Î“Ã‡â•‘ should use default maxResults when not provided

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      110 |         .post('/api/youtube/trending')
      111 |         .send({})
    > 112 |         .expect('Content-Type', /json/);
          |          ^
      113 |       
      114 |       expect(response.status).toBe(200);
      115 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:112:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… YouTube Routes Î“Ã‡â•‘ POST /api/youtube/trending Î“Ã‡â•‘ should handle regionCode parameter

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      120 |         .post('/api/youtube/trending')
      121 |         .send({ regionCode: 'US', maxResults: 5 })
    > 122 |         .expect('Content-Type', /json/);
          |          ^
      123 |       
      124 |       expect(response.status).toBe(200);
      125 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/youtube.routes.test.js:122:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL tests/integration/translate.routes.test.js (19.281 s)
  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate Î“Ã‡â•‘ should return 400 for empty text

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      20 |         .expect('Content-Type', /json/);
      21 |       
    > 22 |       expect(response.status).toBe(400);
         |                               ^
      23 |       expect(response.body).toHaveProperty('error');
      24 |     });
      25 |

      at Object.<anonymous> (tests/integration/translate.routes.test.js:22:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate Î“Ã‡â•‘ should return 400 for missing target language

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      30 |         .expect('Content-Type', /json/);
      31 |       
    > 32 |       expect(response.status).toBe(400);
         |                               ^
      33 |       expect(response.body).toHaveProperty('error');
      34 |     });
      35 |

      at Object.<anonymous> (tests/integration/translate.routes.test.js:32:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate Î“Ã‡â•‘ should return translation or fallback

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      44 |         .expect('Content-Type', /json/);
      45 |       
    > 46 |       expect(response.status).toBe(200);
         |                               ^
      47 |       expect(response.body).toHaveProperty('success');
      48 |     });
      49 |

      at Object.<anonymous> (tests/integration/translate.routes.test.js:46:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate Î“Ã‡â•‘ should handle auto-detect source language

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      57 |         .expect('Content-Type', /json/);
      58 |       
    > 59 |       expect(response.status).toBe(200);
         |                               ^
      60 |       expect(response.body).toHaveProperty('success');
      61 |     });
      62 |   });

      at Object.<anonymous> (tests/integration/translate.routes.test.js:59:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate/detect Î“Ã‡â•‘ should return 400 for empty text

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      69 |         .expect('Content-Type', /json/);
      70 |       
    > 71 |       expect(response.status).toBe(400);
         |                               ^
      72 |       expect(response.body).toHaveProperty('error');
      73 |     });
      74 |

      at Object.<anonymous> (tests/integration/translate.routes.test.js:71:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ POST /api/translate/detect Î“Ã‡â•‘ should detect language

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      79 |         .expect('Content-Type', /json/);
      80 |       
    > 81 |       expect(response.status).toBe(200);
         |                               ^
      82 |       expect(response.body).toHaveProperty('success');
      83 |     });
      84 |   });

      at Object.<anonymous> (tests/integration/translate.routes.test.js:81:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ GET /api/translate/languages Î“Ã‡â•‘ should return list of supported languages

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      90 |         .expect('Content-Type', /json/);
      91 |       
    > 92 |       expect(response.status).toBe(200);
         |                               ^
      93 |       expect(response.body).toHaveProperty('success');
      94 |       expect(response.body).toHaveProperty('languages');
      95 |       expect(Array.isArray(response.body.languages)).toBe(true);

      at Object.<anonymous> (tests/integration/translate.routes.test.js:92:31)

  Î“Ã¹Ã… Translate Routes Î“Ã‡â•‘ GET /api/translate/languages Î“Ã‡â•‘ should return languages with code and name

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      102 |         .expect('Content-Type', /json/);
      103 |       
    > 104 |       expect(response.status).toBe(200);
          |                               ^
      105 |       expect(response.body.languages[0]).toHaveProperty('code');
      106 |       expect(response.body.languages[0]).toHaveProperty('name');
      107 |     });

      at Object.<anonymous> (tests/integration/translate.routes.test.js:104:31)

FAIL tests/integration/music.routes.test.js (20.014 s)
  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ GET /api/music/auth Î“Ã‡â•‘ should return auth URL or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      17 |       const response = await request(app)
      18 |         .get('/api/music/auth')
    > 19 |         .expect('Content-Type', /json/);
         |          ^
      20 |       
      21 |       expect(response.status).toBe(200);
      22 |       expect(response.body).toHaveProperty('url');

      at Object.<anonymous> (tests/integration/music.routes.test.js:19:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/search Î“Ã‡â•‘ should return 400 for empty query

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      30 |         .post('/api/music/search')
      31 |         .send({ query: '' })
    > 32 |         .expect('Content-Type', /json/);
         |          ^
      33 |       
      34 |       expect(response.status).toBe(400);
      35 |       expect(response.body).toHaveProperty('error');

      at Object.<anonymous> (tests/integration/music.routes.test.js:32:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/search Î“Ã‡â•‘ should return search results or fallback

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      40 |         .post('/api/music/search')
      41 |         .send({ query: 'test song', limit: 5 })
    > 42 |         .expect('Content-Type', /json/);
         |          ^
      43 |       
      44 |       expect(response.status).toBe(200);
      45 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/music.routes.test.js:42:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/play Î“Ã‡â•‘ should return 400 for missing uri

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      54 |         .expect('Content-Type', /json/);
      55 |       
    > 56 |       expect(response.status).toBe(400);
         |                               ^
      57 |       expect(response.body).toHaveProperty('error');
      58 |     });
      59 |

      at Object.<anonymous> (tests/integration/music.routes.test.js:56:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/play Î“Ã‡â•‘ should handle play request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      64 |         .expect('Content-Type', /json/);
      65 |       
    > 66 |       expect(response.status).toBe(200);
         |                               ^
      67 |       expect(response.body).toHaveProperty('success');
      68 |     });
      69 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:66:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/pause Î“Ã‡â•‘ should handle pause request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      75 |         .expect('Content-Type', /json/);
      76 |       
    > 77 |       expect(response.status).toBe(200);
         |                               ^
      78 |       expect(response.body).toHaveProperty('success');
      79 |     });
      80 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:77:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/next Î“Ã‡â•‘ should handle next track request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      86 |         .expect('Content-Type', /json/);
      87 |       
    > 88 |       expect(response.status).toBe(200);
         |                               ^
      89 |       expect(response.body).toHaveProperty('success');
      90 |     });
      91 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:88:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/previous Î“Ã‡â•‘ should handle previous track request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

       97 |         .expect('Content-Type', /json/);
       98 |       
    >  99 |       expect(response.status).toBe(200);
          |                               ^
      100 |       expect(response.body).toHaveProperty('success');
      101 |     });
      102 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:99:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/volume Î“Ã‡â•‘ should return 400 for missing volume

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      109 |         .expect('Content-Type', /json/);
      110 |       
    > 111 |       expect(response.status).toBe(400);
          |                               ^
      112 |       expect(response.body).toHaveProperty('error');
      113 |     });
      114 |

      at Object.<anonymous> (tests/integration/music.routes.test.js:111:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/volume Î“Ã‡â•‘ should return 400 for invalid volume

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      119 |         .expect('Content-Type', /json/);
      120 |       
    > 121 |       expect(response.status).toBe(400);
          |                               ^
      122 |       expect(response.body.error).toContain('0-100');
      123 |     });
      124 |

      at Object.<anonymous> (tests/integration/music.routes.test.js:121:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/volume Î“Ã‡â•‘ should handle valid volume request

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      129 |         .expect('Content-Type', /json/);
      130 |       
    > 131 |       expect(response.status).toBe(200);
          |                               ^
      132 |       expect(response.body).toHaveProperty('success');
      133 |     });
      134 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:131:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ GET /api/music/current Î“Ã‡â•‘ should return current playback info

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      140 |         .expect('Content-Type', /json/);
      141 |       
    > 142 |       expect(response.status).toBe(200);
          |                               ^
      143 |       expect(response.body).toHaveProperty('success');
      144 |     });
      145 |   });

      at Object.<anonymous> (tests/integration/music.routes.test.js:142:31)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ GET /api/music/devices Î“Ã‡â•‘ should return available devices

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      149 |       const response = await request(app)
      150 |         .get('/api/music/devices')
    > 151 |         .expect('Content-Type', /json/);
          |          ^
      152 |       
      153 |       expect(response.status).toBe(200);
      154 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/music.routes.test.js:151:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/device Î“Ã‡â•‘ should return 400 for missing deviceId

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      161 |         .post('/api/music/device')
      162 |         .send({})
    > 163 |         .expect('Content-Type', /json/);
          |          ^
      164 |       
      165 |       expect(response.status).toBe(400);
      166 |       expect(response.body).toHaveProperty('error');

      at Object.<anonymous> (tests/integration/music.routes.test.js:163:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  Î“Ã¹Ã… Music Routes Î“Ã‡â•‘ POST /api/music/device Î“Ã‡â•‘ should handle device change request

    expected "Content-Type" matching /json/, got "text/html; charset=utf-8"

      171 |         .post('/api/music/device')
      172 |         .send({ deviceId: 'test-device-123' })
    > 173 |         .expect('Content-Type', /json/);
          |          ^
      174 |       
      175 |       expect(response.status).toBe(200);
      176 |       expect(response.body).toHaveProperty('success');

      at Object.<anonymous> (tests/integration/music.routes.test.js:173:10)
      ----
      at Test._assertHeader (node_modules/supertest/lib/test.js:232:16)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL tests/integration/user.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/wikipedia.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/weather.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/search.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/reminder.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/notes.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/gmail.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/news.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/device.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/calendar.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)

FAIL tests/integration/auth.routes.test.js
  Î“Ã¹Ã… Test suite failed to run

    SyntaxError: The requested module 'cloudinary' does not provide an export named 'v2'

      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:708:5)


Test Suites: 17 failed, 16 passed, 33 total
Tests:       39 failed, 84 passed, 123 total
Snapshots:   0 total
Time:        30.053 s
Ran all test suites.
